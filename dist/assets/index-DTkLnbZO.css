:root{font-family:Inter,system-ui,Avenir,Helvetica,Arial,sans-serif;line-height:1.5;font-weight:400;color-scheme:light dark;color:#ffffffde;background-color:#242424;font-synthesis:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body{margin:0;padding:0;display:flex;place-items:center;min-width:320px;min-height:100vh;overflow:hidden}#app{width:100%;height:100vh}#game-container{width:100%;height:100%}#ui-layer{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;display:flex;flex-direction:column;justify-content:space-between;padding:10px;box-sizing:border-box;z-index:10}.edit-mode .toolbar{display:flex;opacity:1;pointer-events:auto}.play-mode .toolbar{opacity:0;pointer-events:none}#top-hud{position:absolute;top:20px;left:50%;transform:translate(-50%);display:flex;gap:20px;align-items:center;pointer-events:none;z-index:20;opacity:0;transition:opacity .3s}.play-mode #top-hud{opacity:1}.compass-container{position:relative;width:60px;height:60px;pointer-events:auto;background:#00000080;border-radius:50%;display:flex;justify-content:center;align-items:center;border:2px solid rgba(255,255,255,.3)}.compass-inner{position:relative;width:0;height:0;display:flex;justify-content:center;align-items:center}.compass-arrow{position:absolute;left:0;top:0;width:0;height:0;transform-origin:0 0}.compass-arrow:before{content:"";position:absolute;bottom:0;left:-8px;width:0;height:0;border-left:8px solid transparent;border-right:8px solid transparent;border-bottom:35px solid #f44336}.compass-arrow:after{content:"";position:absolute;top:0;left:-8px;width:0;height:0;border-left:8px solid transparent;border-right:8px solid transparent;border-top:35px solid #ffffff}.compass-label{position:absolute;color:#fff;font-weight:700;font-size:12px;top:-15px;left:50%;transform:translate(-50%);text-shadow:0 1px 2px black}#scoreboard{display:flex;align-items:center;justify-content:center;font-family:Courier New,Courier,monospace;font-weight:700}.score-value{color:#f44336;font-size:32px;text-shadow:2px 2px 0px #000;border:3px solid #f44336;border-radius:50%;width:60px;height:60px;display:flex;justify-content:center;align-items:center;background:#00000080;box-shadow:0 0 10px #f443364d}.key-counter{display:flex;align-items:center;gap:5px;font-family:Courier New,Courier,monospace;font-weight:700;font-size:20px;color:gold;text-shadow:2px 2px 0px #000;background:#0009;padding:10px 15px;border-radius:20px;border:2px solid #ffd700;pointer-events:auto}.mobile-controls{position:absolute;bottom:20px;left:0;width:100%;height:150px;pointer-events:none;display:flex;justify-content:center;align-items:center;gap:40px;padding:0 20px;box-sizing:border-box;opacity:0;transition:opacity .3s;z-index:30}.play-mode .mobile-controls{opacity:1;pointer-events:auto}.d-pad{position:relative;width:140px;height:140px;background:#0000004d;border-radius:50%;flex-shrink:0}.control-btn{position:absolute;background:#ffffff26;border:2px solid rgba(255,255,255,.3);border-radius:12px;color:#fff;display:flex;justify-content:center;align-items:center;font-size:24px;cursor:pointer;-webkit-user-select:none;user-select:none;touch-action:manipulation;transition:transform .1s,background .1s}.control-btn:active,.control-btn.pressed{background:#ffffff80;transform:scale(.95);border-color:#ffffffe6;color:#000}.d-pad .control-btn{width:45px;height:45px}.btn-up{top:5px;left:50%;transform:translate(-50%)}.btn-down{bottom:5px;left:50%;transform:translate(-50%)}.btn-left{top:50%;left:5px;transform:translateY(-50%)}.btn-right{top:50%;right:5px;transform:translateY(-50%)}.btn-rotate{position:relative;width:60px;height:60px;border-radius:50%;font-size:28px;background:#ffffff1a}.toolbar{background:#000000b3;padding:10px;border-radius:8px;display:flex;gap:10px;transition:opacity .3s}.toolbar button,.toolbar select{background:#444;color:#fff;border:1px solid #666;padding:8px 12px;cursor:pointer;border-radius:4px;font-family:monospace;font-weight:700}.toolbar button:hover{background:#666}.toolbar button.active{background:#2196f3;border-color:#64b5f6}.top-bar{align-self:flex-start;display:flex;gap:10px;align-items:center;flex-wrap:wrap}.bottom-bar{align-self:center}.block-btn[data-type="0"]{border-bottom:3px solid #aaaaaa}.block-btn[data-type="1"]{border-bottom:3px solid #4caf50}.block-btn[data-type="2"]{border-bottom:3px solid #2196f3}.block-btn[data-type="3"]{border-bottom:3px solid #ffeb3b}.block-btn[data-type="4"]{border-bottom:3px solid #f44336}.block-btn[data-type="5"]{border-bottom:3px solid #ffffff}.save-load-container{display:flex;gap:5px;align-items:center}.save-load-container input{background:#333;color:#fff;border:1px solid #666;padding:5px;border-radius:4px;width:100px}#game-notification{position:absolute;top:10%;left:50%;transform:translate(-50%,-50%);background:#000c;color:#4caf50;padding:20px 40px;border-radius:8px;font-size:24px;font-weight:700;border:2px solid #4caf50;box-shadow:0 4px 15px #00000080;z-index:1000;opacity:0;transition:opacity .5s ease;pointer-events:none}#game-notification.show{opacity:1}.build-height-panel{position:absolute;top:80px;right:20px;background:#000000d9;padding:15px;border-radius:8px;border:2px solid rgba(68,136,255,.5);pointer-events:auto;min-width:200px;display:flex;flex-direction:column;gap:10px;opacity:1;transition:opacity .3s;z-index:15}.play-mode .build-height-panel{opacity:0;pointer-events:none}.build-height-label{font-size:16px;font-weight:700;color:#48f;text-align:center;margin-bottom:5px}#build-height-value{color:#ffeb3b;font-size:20px}.build-height-controls{display:flex;gap:5px;justify-content:center}.height-btn{background:#444;color:#fff;border:1px solid #666;padding:8px 16px;cursor:pointer;border-radius:4px;font-weight:700;font-size:14px;transition:background .2s}.height-btn:hover{background:#666}.height-btn:active{background:#2196f3;transform:scale(.95)}.build-height-hint{font-size:11px;color:#ffffff80;text-align:center;font-style:italic}.build-height-toggles{display:flex;flex-direction:column;gap:5px;margin-top:5px;padding-top:8px;border-top:1px solid rgba(255,255,255,.2)}.build-height-toggles label{display:flex;align-items:center;gap:8px;font-size:13px;color:#fffc;cursor:pointer;-webkit-user-select:none;user-select:none}.build-height-toggles input[type=checkbox]{cursor:pointer;width:16px;height:16px}.build-height-toggles label:hover{color:#fff}.editor-tip{font-size:11px;color:#ffd700e6;text-align:center;font-style:italic;margin-top:8px;border-top:1px solid rgba(255,215,0,.3);background:#ffd7001a;padding:6px;border-radius:4px}.camera-control-panel{position:absolute;top:80px;left:20px;background:#000000d9;padding:15px;border-radius:8px;border:2px solid rgba(76,175,80,.5);pointer-events:auto;min-width:180px;display:flex;flex-direction:column;gap:10px;opacity:1;transition:opacity .3s;z-index:15}.play-mode .camera-control-panel{opacity:0;pointer-events:none}.panel-title{font-size:14px;font-weight:700;color:#4caf50;text-align:center;margin-bottom:5px}.camera-view-grid{display:grid;grid-template-columns:1fr 1fr;gap:5px}.view-btn{background:#444;color:#fff;border:1px solid #666;padding:8px;cursor:pointer;border-radius:4px;font-weight:700;font-size:12px;transition:all .2s}.view-btn:hover{background:#666;border-color:#4caf50}.view-btn:active{background:#4caf50;transform:scale(.95)}.camera-reset-btn{background:#2196f3;color:#fff;border:1px solid #64b5f6;padding:10px;cursor:pointer;border-radius:4px;font-weight:700;font-size:13px;transition:all .2s;margin-top:5px}.camera-reset-btn:hover{background:#1976d2}.camera-reset-btn:active{transform:scale(.95)}.camera-hint{font-size:10px;color:#ffffff80;text-align:center;font-style:italic;line-height:1.4;margin-top:5px;padding-top:8px;border-top:1px solid rgba(255,255,255,.2)}.auto-save-indicator{position:absolute;bottom:80px;left:50%;transform:translate(-50%);background:#4caf50e6;color:#fff;padding:8px 16px;border-radius:20px;font-size:12px;font-weight:700;pointer-events:none;opacity:0;transition:opacity .3s;z-index:15}.edit-mode .auto-save-indicator{opacity:.7}.auto-save-indicator:hover{opacity:1}.modal{position:fixed;top:0;left:0;width:100%;height:100%;background:#000c;display:flex;justify-content:center;align-items:center;z-index:1000;pointer-events:auto}.modal-content{background:linear-gradient(135deg,#667eea,#764ba2);padding:40px;border-radius:20px;box-shadow:0 10px 50px #00000080;text-align:center;max-width:400px;animation:modalSlideIn .3s ease-out}@keyframes modalSlideIn{0%{transform:translateY(-50px);opacity:0}to{transform:translateY(0);opacity:1}}.modal-content h2{margin:0 0 20px;font-size:32px;color:#fff;text-shadow:2px 2px 4px rgba(0,0,0,.3)}#level-stats{background:#0000004d;padding:20px;border-radius:10px;margin:20px 0}#level-stats p{margin:10px 0;font-size:18px;color:#fff;font-weight:700}.modal-buttons{display:flex;flex-direction:column;gap:10px;margin-top:20px}.modal-btn{padding:12px 24px;font-size:16px;font-weight:700;border:none;border-radius:10px;cursor:pointer;transition:all .2s;pointer-events:auto}.modal-btn.primary{background:#4caf50;color:#fff}.modal-btn.primary:hover{background:#45a049;transform:scale(1.05)}.modal-btn:not(.primary){background:#fff3;color:#fff;border:2px solid rgba(255,255,255,.5)}.modal-btn:not(.primary):hover{background:#ffffff4d;transform:scale(1.05)}.modal-btn:active{transform:scale(.95)}
