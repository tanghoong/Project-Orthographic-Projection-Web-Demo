:root {
  font-family: Inter, system-ui, Avenir, Helvetica, Arial, sans-serif;
  line-height: 1.5;
  font-weight: 400;

  color-scheme: light dark;
  color: rgba(255, 255, 255, 0.87);
  background-color: #242424;

  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  margin: 0;
  padding: 0;
  display: flex;
  place-items: center;
  min-width: 320px;
  min-height: 100vh;
  overflow: hidden; /* Fix scrollbar issue */
}

#app {
  width: 100%;
  height: 100vh;
}

#game-container {
  width: 100%;
  height: 100%;
}

#ui-layer {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  padding: 10px;
  box-sizing: border-box;
}

/* Edit Mode Styles */
.edit-mode .toolbar {
  display: flex;
}

.edit-mode .compass-container {
  display: block;
}

/* Play Mode Styles */
.play-mode .toolbar {
  display: none !important;
}

/* Ensure Compass is visible in both modes, or as requested */
/* Requirement: Compass should always show in map mode. Play mode hides edit controls. 
   But "Map Mode" usually means "Edit Mode". Let's assume Compass is part of Edit Mode or Map View.
   User said: "Compass should always show in map mode". And "Play Mode... hide all edit related controls".
   However, usually compass is useful. Let's make it visible in Edit Mode, and decide for Play Mode.
   "Play Mode... hide all edit related controls... auxiliary visual elements".
   Let's keep compass in Edit Mode only for now based on "show in map mode".
   Wait, if "Map Mode" is distinct from "Play Mode", then Compass is for Map Mode.
   Let's stick to showing it in Edit Mode and hiding in Play Mode for immersion.
*/

.play-mode .compass-container {
  display: none; /* Hide compass in play mode per immersive requirement */
}

.toolbar {
  pointer-events: auto;
  background: rgba(0, 0, 0, 0.7);
  padding: 10px;
  border-radius: 8px;
  display: flex;
  gap: 10px;
  transition: opacity 0.3s;
}

.toolbar button {
  background: #444;
  color: white;
  border: 1px solid #666;
  padding: 8px 12px;
  cursor: pointer;
  border-radius: 4px;
  font-family: monospace;
  font-weight: bold;
}

.toolbar button:hover {
  background: #666;
}

.toolbar button.active {
  background: #2196f3;
  border-color: #64b5f6;
}

.top-bar {
  align-self: flex-start;
  display: flex;
  gap: 10px;
  align-items: center;
}

.bottom-bar {
  align-self: center;
}

.block-btn[data-type="0"] { border-bottom: 3px solid #aaaaaa; } /* Cursor */
.block-btn[data-type="1"] { border-bottom: 3px solid #4caf50; }
.block-btn[data-type="2"] { border-bottom: 3px solid #2196f3; }
.block-btn[data-type="3"] { border-bottom: 3px solid #ffeb3b; }
.block-btn[data-type="4"] { border-bottom: 3px solid #f44336; }
.block-btn[data-type="5"] { border-bottom: 3px solid #ffffff; } /* Eraser */

.save-load-container {
  display: flex;
  gap: 5px;
}

.save-load-container input, .save-load-container select {
  background: #333;
  color: white;
  border: 1px solid #666;
  padding: 5px;
  border-radius: 4px;
}

/* Compass Styles */
.compass-container {
  position: absolute;
  top: 20px;
  right: 20px;
  width: 60px;
  height: 60px;
  pointer-events: auto; /* Allow interaction if needed */
  background: rgba(0, 0, 0, 0.5);
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  border: 2px solid rgba(255, 255, 255, 0.3);
}

.compass-arrow {
  width: 0;
  height: 0;
  border-left: 10px solid transparent;
  border-right: 10px solid transparent;
  border-bottom: 40px solid #f44336; /* Red North Pointer */
  transform-origin: center bottom; /* Rotate around the base/center */
  position: relative;
  top: -10px; /* Adjust centering */
}

.compass-arrow::after {
  content: '';
  position: absolute;
  top: 40px; /* Below the red part */
  left: -10px;
  width: 0;
  height: 0;
  border-left: 10px solid transparent;
  border-right: 10px solid transparent;
  border-top: 40px solid #ffffff; /* White South Pointer */
}

.compass-label {
  position: absolute;
  color: white;
  font-weight: bold;
  font-size: 12px;
  top: -15px;
}
